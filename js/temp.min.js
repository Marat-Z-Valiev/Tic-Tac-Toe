let board=["","","","","","","","",""],turns=0,hu="",co="";function move(t,e){""==t[e]&&(turns++,t[e]=hu)}function status(t){if(win(t,hu))return setTimeout(function(){$(".win").show()},600),void setTimeout(function(){reset()},3e3);if(9==turns)draw();else{turns++,strategy(),empty=[],t[bestMove]=co;let e="#"+bestMove;if(setTimeout(function(){$(e).html(co)},700),win(t,co))return setTimeout(function(){$(".lose").show()},800),void setTimeout(function(){reset()},3e3);9==turns?setTimeout(function(){$(".draw").show()},800):console.log("Your turn!")}}function draw(){$(".draw").show(),setTimeout(function(){reset()},3e3)}function reset(){turns=0,board=["","","","","","","","",""],$(".game-button").html(""),$(".game-start").show(),$(".game-play").hide(),$(".game-end").hide()}$(document).ready(function(){reset(),$("#choose-x").on("click",function(){$(".game-start").hide(),$(".game-play").show(),hu="X",co="O"}),$("#choose-o").on("click",function(){$(".game-start").hide(),$(".game-play").show(),hu="O",co="X"}),$(".game-button").on("click",function(){selection=parseInt($(this).attr("id")),move(board,selection),$(this).html(board[selection]),status(board)})});let empty=[],bestMove="";function strategy(){for(let t=0;t<board.length;t++)""===board[t]&&empty.push(t);return!0===checkWin(empty)?bestMove:!0===checkLose(empty)?bestMove:bestMove=""===board[4]?4:""===board[0]?0:""===board[2]?2:""===board[6]?6:""===board[8]?8:empty[0]}function checkWin(t){for(let e=0;e<t.length;e++){if(board[t[e]]=co,win(board,co))return bestMove=t[e],board[t[e]]="",!0;board[t[e]]=""}}function checkLose(t){for(let e=0;e<t.length;e++){if(board[t[e]]=hu,win(board,hu))return bestMove=t[e],board[t[e]]="",!0;board[t[e]]=""}}function win(t,e){if(t[0]==e&&t[1]==e&&t[2]==e||t[3]==e&&t[4]==e&&t[5]==e||t[6]==e&&t[7]==e&&t[8]==e||t[0]==e&&t[3]==e&&t[6]==e||t[1]==e&&t[4]==e&&t[7]==e||t[2]==e&&t[5]==e&&t[8]==e||t[0]==e&&t[4]==e&&t[8]==e||t[2]==e&&t[4]==e&&t[6]==e)return!0}